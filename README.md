# üè¶ –ë–∞–Ω–∫–æ–≤—Å–∫–∏–π REST API –°–µ—Ä–≤–∏—Å –Ω–∞ Go

–≠—Ç–æ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –±–∞–Ω–∫–æ–≤—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏, —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—á–µ—Ç–∞–º–∏ –∏ –∫–∞—Ä—Ç–∞–º–∏, –ø–µ—Ä–µ–≤–æ–¥–æ–≤, –∫—Ä–µ–¥–∏—Ç–æ–≤, –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏.

---

## üìå –û–ø–∏—Å–∞–Ω–∏–µ

REST API —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –Ω–∞ —è–∑—ã–∫–µ **Go (Golang)** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ `gorilla/mux`, –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö **PostgreSQL** , –±–∏–±–ª–∏–æ—Ç–µ–∫ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å JWT, —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è PGP/HMAC, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ `logrus`, –æ—Ç–ø—Ä–∞–≤–∫–∏ email —á–µ—Ä–µ–∑ SMTP –∏ –ø–∞—Ä—Å–∏–Ω–≥–∞ XML –æ—Ç –¶–ë –†–§.

---

## ‚úÖ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–Ω–∫–æ–≤—Å–∫–∏–º–∏ —Å—á–µ—Ç–∞–º–∏** : —Å–æ–∑–¥–∞–Ω–∏–µ, –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ, —Å–ø–∏—Å–∞–Ω–∏–µ.
- **–û–ø–µ—Ä–∞—Ü–∏–∏ —Å –∫–∞—Ä—Ç–∞–º–∏** : –≤—ã–ø—É—Å–∫, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ –∞–ª–≥–æ—Ä–∏—Ç–º—É –õ—É–Ω–∞, —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö.
- **–ü–µ—Ä–µ–≤–æ–¥—ã –º–µ–∂–¥—É —Å—á–µ—Ç–∞–º–∏** —Å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏.
- **–ö—Ä–µ–¥–∏—Ç–æ–≤–∞–Ω–∏–µ** : –∞–Ω–Ω—É–∏—Ç–µ—Ç–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏, –≥—Ä–∞—Ñ–∏–∫ –≤—ã–ø–ª–∞—Ç, —à–µ–¥—É–ª–µ—Ä –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è —à—Ç—Ä–∞—Ñ–æ–≤.
- **–§–∏–Ω–∞–Ω—Å–æ–≤–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞** : —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞.
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏** :
    - –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –±–∞–Ω–∫ –†–§ ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ –∫–ª—é—á–µ–≤–æ–π —Å—Ç–∞–≤–∫–∏ —á–µ—Ä–µ–∑ SOAP.
    - SMTP ‚Äî —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø–µ—Ä–µ–≤–æ–¥–∞—Ö.

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- **JWT** –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (—Ç–æ–∫–µ–Ω –∂–∏–≤–µ—Ç 24 —á–∞—Å–∞).
- **–•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π** —á–µ—Ä–µ–∑ `bcrypt`.
- **–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∫–∞—Ä—Ç** —á–µ—Ä–µ–∑ PGP.
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞** –∫ —Ä–µ—Å—É—Ä—Å–∞–º.
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤** —á–µ—Ä–µ–∑ `logrus`.

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

|–ö–∞—Ç–µ–≥–æ—Ä–∏—è|–ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏|
|---|---|
|–Ø–∑—ã–∫|Go 1.23+|
|–§—Ä–µ–π–º–≤–æ—Ä–∫|gorilla/mux|
|–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö|PostgreSQL 17|
|ORM|GORM|
|–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è|golang-jwt/jwt/v5|
|–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ|PGP, HMAC-SHA256, bcrypt|
|Email|gomail.v2|
|–ü–∞—Ä—Å–∏–Ω–≥ XML|beevik/etree|
|–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ|logrus|

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
bank-api/
‚îú‚îÄ‚îÄ config/         # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ db/             # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
‚îú‚îÄ‚îÄ handlers/       # HTTP –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
‚îú‚îÄ‚îÄ integrations/   # –í–Ω–µ—à–Ω–∏–µ API (–¶–ë –†–§, SMTP)
‚îú‚îÄ‚îÄ middleware/     # Middleware (JWT, Logging)
‚îú‚îÄ‚îÄ models/         # –ú–æ–¥–µ–ª–∏ –ë–î
‚îú‚îÄ‚îÄ repositories/   # –†–∞–±–æ—Ç–∞ —Å –ë–î
‚îú‚îÄ‚îÄ services/       # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îú‚îÄ‚îÄ utils/          # –£—Ç–∏–ª–∏—Ç—ã (—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ, JWT, PGP)
‚îî‚îÄ‚îÄ main.go         # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
```

---

## üß™ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –∑–∞–ø—É—Å–∫—É

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```env
DB_HOST=localhost
DB_PORT=5432
DB_USER=bankuser
DB_PASSWORD=bankpass
DB_NAME=bankdb
JWT_SECRET=super-secret-key
JWT_TTL=24h
```

### PostgreSQL

–°–æ–∑–¥–∞–π—Ç–µ –ë–î –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

```sql
CREATE USER bankuser WITH PASSWORD 'bankpass';
CREATE DATABASE bankdb OWNER bankuser;
```

---

## ‚ñ∂Ô∏è –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
go mod download
go run main.go
```

–°–µ—Ä–≤–∏—Å –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É `:8080`.

---

## üåê –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

### –ü—É–±–ª–∏—á–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

|–ú–µ—Ç–æ–¥|URL|–û–ø–∏—Å–∞–Ω–∏–µ|
|---|---|---|
|POST|`/register`|–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è|
|POST|`/login`|–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è|
|GET|`/cbr/keyrate`|–ü–æ–ª—É—á–µ–Ω–∏–µ –∫–ª—é—á–µ–≤–æ–π —Å—Ç–∞–≤–∫–∏ –¶–ë –†–§|

### –ó–∞—â–∏—â–µ–Ω–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã (—Ç—Ä–µ–±—É—é—Ç JWT)

|–ú–µ—Ç–æ–¥|URL|–û–ø–∏—Å–∞–Ω–∏–µ|
|---|---|---|
|POST|`/accounts`|–°–æ–∑–¥–∞—Ç—å —Å—á—ë—Ç|
|GET|`/accounts`|–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ —Å—á–µ—Ç–∞|
|PUT|`/accounts/{id}`|–ü–æ–ø–æ–ª–Ω–∏—Ç—å –∏–ª–∏ —Å–ø–∏—Å–∞—Ç—å —Å—Ä–µ–¥—Å—Ç–≤–∞|
|POST|`/cards`|–í—ã–ø—É—Å—Ç–∏—Ç—å –∫–∞—Ä—Ç—É|
|GET|`/cards`|–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫–∞—Ä—Ç—ã|
|POST|`/transfer`|–ü–µ—Ä–µ–≤–µ—Å—Ç–∏ —Å—Ä–µ–¥—Å—Ç–≤–∞|
|GET|`/analytics`|–§–∏–Ω–∞–Ω—Å–æ–≤–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞|
|POST|`/credits`|–û—Ñ–æ—Ä–º–∏—Ç—å –∫—Ä–µ–¥–∏—Ç|
|GET|`/credits/{creditId}/schedule`|–ì—Ä–∞—Ñ–∏–∫ –ø–ª–∞—Ç–µ–∂–µ–π –ø–æ –∫—Ä–µ–¥–∏—Ç—É|
|GET|`/accounts/{accountId}/predict`|–ü—Ä–æ–≥–Ω–æ–∑ –±–∞–ª–∞–Ω—Å–∞ –Ω–∞ N –¥–Ω–µ–π|

---

## üïí –®–µ–¥—É–ª–µ—Ä

–ö–∞–∂–¥—ã–µ 12 —á–∞—Å–æ–≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏ –∏ –Ω–∞—á–∏—Å–ª—è—é—Ç—Å—è —à—Ç—Ä–∞—Ñ—ã (+10%).